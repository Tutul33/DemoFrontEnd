<!-- bot-chat.component.html -->
<button pButton type="button" class="chat-float-btn" (click)="toggleBotChat()">
  <i class="bi bi-robot"></i>
</button>

<div class="chat-panel" [class.show]="botChatVisible">
  <div class="chat-header">
    <span>Assistant</span>
    <p-button (click)="toggleBotChat()" styleClass="p-button-sm" severity="warn">
      <i class="bi bi-x"></i>
    </p-button>
  </div>

  <div class="chat-body">
    <div class="chat-tabs">
      <div class="chat-messages">
        <div *ngFor="let m of messages" class="chat-message" [ngClass]="{'me': m.isUser, 'other': !m.isUser}">
          <div class="message-wrapper">
            <div class="message-content">
              <b>{{ m.isUser ? 'You' : 'Bot' }}:</b> {{ m.text }}
            </div>
            <div class="message-date">{{ m.time | date:'shortTime' }}</div>
          </div>
        </div>
      </div>

      <div class="chat-input">
        <textarea rows="2" cols="55" pTextarea [(ngModel)]="newMessage"
          placeholder="Ask something..." (keyup.enter)="sendMessage()"></textarea>
        <p-button (click)="sendMessage()" severity="success"><i class="bi bi-arrow-right"></i></p-button>
      </div>
    </div>
  </div>
</div>
